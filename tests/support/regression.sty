%% Load TikZ-Feynman and set compatibility to the current version
\RequirePackage{tikz-feynman}
\tikzfeynmanset{compat=\tikzfeynman@version@major.\tikzfeynman@version@minor.\tikzfeynman@version@patch}

%% Provide information about the compiler
\RequirePackage{iftex}
\RequirePackage{hologo}

\newcommand{\TeXTable}{
\begin{tabular}{lll}
  Compiled by & \hologo{\fmtname} (\fmtversion) \\
  \hologo{eTeX}
    & \ifetex \the\eTeXversion\eTeXrevision \else No \fi \\
  \hologo{pdfTeX}
    & \ifpdftex \pdftexbanner \else No \fi \\
  \hologo{XeTeX}
    & \ifxetex \the\XeTeXversion\XeTeXrevision \else No \fi \\
  \hologo{LuaTeX}
    & \ifluatex \luatexbanner \else No \fi \\
  \hologo{LuaTeX} (HB)
    & \ifluahbtex Yes \else No \fi
\end{tabular}
}

%% Regression Testing
\input regression-test.tex

\ifdefined\directlua
  \IfFileExists{pgfgd-debug.lua}{
    \AtBeginDocument{\directlua{dofile('pgfgd-debug.lua')}}
  }{
    \AtBeginDocument{\directlua{dofile('support/pgfgd-debug.lua')}}
  }
\fi
\def\pgfutil@packageerror#1#2#3{\immediate\write17{Package #1 Error: #2.}}
